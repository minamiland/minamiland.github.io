<!DOCTYPE html>
<html lang="kr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="이력서, 履歴書, 南　協秀, ナム ヒョブス, resume, Nam Hyubsoo" />
<meta name="description" content="남협수의 이력서입니다." />
<title>minamiland</title>
<link rel="stylesheet" type="text/css" href="screen.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
	$(document).ready( function() {
    $.ajax({
			type : 'get',
			dataType: 'json',
			data : {},
			url : 'info.json',
			error: function(resume) {
				var str = "";
				str += $('body').html("<div class='error'>불러들이지 못했습니다.</div>");
			},
			success: function(resume) {
				var str, i, j, k, l, m = "";
				str += $('#photo').append("<img src='" + resume.photo.img + "' alt='my photo'></div>");

				str += $('#name').before("<h2 class='title'>" + resume.title.personal + "</h2>");

				str += $('#name').append("<span class='title'>" + resume.title.name + "</span>");
				str += $('#name').append("<span class='box'>" + resume.name.kr + "</span>");
				
				str += $('#email').append("<span class='title'>" + resume.title.email + "</span>");
				str += $('#email').append("<span class='box'>" + resume.email.data + "</span>");
				
				str += $('#portfolio').append("<span class='title'>" + resume.title.portfolio + "</span>");
				str += $('#portfolio').append("<span class='box'><a href='"  + resume.portfolio.data + "'>" + resume.portfolio.data + "</a></span>");
				
				str += $('#education').append("<h2 class='title'>" + resume.title.education + "</h2>");
				for ( var i in resume.education ) {
					str += $('#education').append("<div class='date'>" + resume.education[i].date + "</div>");
					str += $('#education').append("<div class='box'>" + resume.education[i].title + "</div>");
				};
				
				str += $('#career').append("<h2 class='title'>" + resume.title.career + "</h2>");
				for ( var i in resume.career ) {
					str += $('#career').append("<div class='date'>" + resume.career[i].date + "</div>");
					str += $('#career').append("<div class='box'>" + resume.career[i].office + "</div>");
				};
				
				str += $('#record').append("<h2 class='title'>" + resume.title.record + "</h2>");
				for ( var i in resume.record ) {
					str += $('#record').append(
					"<div class='date'><div class='record_office_date'>" + resume.record[i].date + "</div></div>" + 
					"<div class='box'><div class='record_office_title'>" + resume.record[i].title + "</div>" +
					"<div class='record_office_part'>" + resume.record[i].part + "</div>" + 
					"<div class='record_office_description'>" + resume.record[i].description + "</div>");
					
					if ( $('#record').hasClass('.date_box') ) {
						console.log('wow');
						// str += $('#record').append("<div>11</div>");
					} else {
						console.log('mom');						
						// str += $('#record').append("<div>21</div>");
						for ( var k in resume.record[i].project ) {
							str += $('#record').append(
							"<div class='project_box'><div class='date_box'>" + 
							"<span>" + resume.record[i].project[k].title + "</span>" + 
							" : <span>" + resume.record[i].project[k].part + "</span>" + 
							" (<span>" + resume.record[i].project[k].persentage + "</span>)" + 
							"</div></div>");
						};
					}
				};
	
				str += $('#military').append("<h2 class='title'>" + resume.title.military + "</h2>");
				str += $('#military').append("<div class='date'>" + resume.military.date + "</div>");
				str += $('#military').append("<div class='box'>" + resume.military.title + "</div>");
				
				str += $('#overseasstudy').append("<h2 class='title'>" + resume.title.overseasstudy + "</h2>");
				str += $('#overseasstudy').append("<div class='date'>" + resume.overseasstudy.date + "</div>");
				str += $('#overseasstudy').append("<div class='box'>" + resume.overseasstudy.title + "</div>");
				
				str += $('#certificate').append("<h2 class='title'>" + resume.title.certificate + "</h2>");
				str += $('#certificate').append("<div class='date'>" + resume.certificate.date + "</div>");
				str += $('#certificate').append("<div class='box'>" + resume.certificate.title + "</div>");
				
				str += $('#announce').append("<h2 class='title'>" + resume.title.announce + "</h2>");
				str += $('#announce').append("<div class='date'>" + resume.announce.date + "</div>");
				str += $('#announce').append("<div class='box'>" + resume.announce.title + "</div>");
			}
    });
	});
</script>
</head>
<body>
	<div id="wrapper">
		<div id="personal">
				<p id="photo"></p>
				<p id="name"></p>
				<p id="email"></p>
				<p id="portfolio"></p>
		</div>
		<div id="education"></div>
		<div id="career"></div>
		<div id="record"></div>
		<div id="military"></div>
		<div id="overseasstudy"></div>
		<div id="certificate"></div>
		<div id="announce"></div>
	</div>
</body>
</html>
